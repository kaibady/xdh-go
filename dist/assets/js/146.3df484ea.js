(window.webpackJsonp=window.webpackJsonp||[]).push([[146],{240:function(e,a,t){},392:function(e,a,t){"use strict";var o=t(240);t.n(o).a},564:function(e,a,t){"use strict";t.r(a);var o=t(141),n={components:{XdhGo:o.a,XdhGoSearch:o.g},props:{},data:function(){return{model:"GraphLinksModel",addName:"",diagram:null,lock:!1,nodes:[{key:"A",category:"a",remark:{name:"mike"}},{key:"B",category:"b",remark:{name:"jack"}},{key:"C",category:"c",remark:{name:"kate"}},{key:"D",category:"a",remark:{name:"jason"}},{key:"E",category:"b",remark:{name:"sam"}},{key:"F",category:"c",remark:{name:"may"}}],links:[{from:"A",to:"B",info:{tag:"mike to jack"}},{from:"A",to:"C",info:{tag:"mike to kate"}},{from:"C",to:"D",info:{tag:"kate to json"}},{from:"B",to:"E",info:{tag:"jack to sam"}},{from:"E",to:"F",info:{tag:"sam to may"}}],timeout:null}},computed:{},methods:{addNode:function(){var e=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){var a=e.addName+["A","B","C"][Math.floor(1e3*Math.random())%3]+Math.floor(1e3*Math.random()),t={key:a,category:["a","b","c"][Math.floor(1e3*Math.random())%3]},o=e.diagram.nodes.count,n=Math.floor(Math.random()*(o-2)),r={from:e.diagram.model.nodeDataArray[n].key,to:a};e.$refs.diagram.addNode(t),e.$refs.diagram.addLink(r)},300)},diagramReady:function(e,a,t){this.diagram=e},config:function(e,a){return{initialContentAlignment:a.Spot.Center,"toolManager.mouseWheelBehavior":a.ToolManager.WheelZoom}},nodeTemplate:function(e,a,t){return e(a.Node,"Auto",e(a.Shape,"Rectangle",{portId:"",stroke:t,fill:t}),e(a.TextBlock,"Default Text",{margin:12,stroke:"#ffffff"},new a.Binding("text","key")),new a.Binding("location").makeTwoWay(a.Point.stringify))},linkTemplate:function(e,a){return e(a.Link,{curve:a.Link.Bezier},e(a.Shape,{strokeWidth:3,stroke:"#555"}),e(a.Shape,{toArrow:"Standard"}))},nodeTemplateMap:function(e,a,t){var o=this.nodeTemplate(e,a,"red",t),n=this.nodeTemplate(e,a,"blue",t),r=this.nodeTemplate(e,a,"green",t),i=new a.Map;return i.add("a",o),i.add("b",n),i.add("c",r),i},layout:function(e,a){return e(a.LayeredDigraphLayout,{})}},created:function(){}},r=(t(392),t(16)),i=Object(r.a)(n,function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("xdh-go-search",{ref:"search",attrs:{diagram:e.diagram,"pull-center":"","custom-class":"my-search",mode:"link,node","node-keys":["key","remark.name"],"link-keys":["key","info.tag"],popDuration:6e3},scopedSlots:e._u([{key:"popover",fn:function(a){var o=a.searchResult,n=a.keyword;return t("div",{},[t("div",[e._v("关键字:"+e._s(n))]),e._v(" "),t("div",[e._v("结果:"+e._s(o.hit))])])}}])}),e._v(" "),t("el-row",[t("el-col",{attrs:{span:8,offset:12}},[t("el-input",{attrs:{size:"mini"},model:{value:e.addName,callback:function(a){e.addName=a},expression:"addName"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.addNode},slot:"append"},[e._v("添加节点测试")])],1)],1)],1),e._v(" "),t("xdh-go",{ref:"diagram",attrs:{nodes:e.nodes,links:e.links,type:e.model,"node-template-map":e.nodeTemplateMap,"link-template":e.linkTemplate,config:e.config,layout:e.layout,height:"500px"},on:{"on-ready":e.diagramReady}})],1)},[],!1,null,"c56b2c1e",null);a.default=i.exports}}]);