(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{142:function(e,t,n){"use strict";var i=n(147),o=n(143),a=n(145),r=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);i(i.P+i.F*r,"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},143:function(e,t,n){var i=n(150),o=n(144),a=n(140);e.exports=function(e,t,n,r){var l=String(a(e)),s=l.length,d=void 0===n?" ":String(n),c=i(t);if(c<=s||""==d)return l;var u=c-s,m=o.call(d,Math.ceil(u/d.length));return m.length>u&&(m=m.slice(0,u)),r?m+l:l+m}},144:function(e,t,n){"use strict";var i=n(151),o=n(140);e.exports=function(e){var t=String(o(this)),n="",a=i(e);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},145:function(e,t,n){var i=n(148).navigator;e.exports=i&&i.userAgent||""},432:function(e,t,n){"use strict";n.r(t);n(149),n(142),n(146);var i,o=n(141),a=(o.v.switcher,o.v.binding,o.o.DataManager),r={components:{XdhGo:o.a,XdhGoOverview:o.f},data:function(){var e=this;return{diagram:null,model:"GraphLinksModel",nodes:[],links:[],msg:null,nodeCount:30,duplicateData:{level:"02",nodeCode:"7",title:"title6",type:"03"},initialed:!1,startTime:null,endTime:null,loading:!1,events:{LayoutCompleted:function(t){console.timeEnd("layoutCompleted1"),e.endTime=new Date,e.logtime(),e.loading=!1}}}},methods:{logtime:function(){this.initialed&&(this.startTime&&this.endTime&&(this.msg&&this.msg.close(),this.msg=this.$message({type:"success",duration:2e4,showClose:!0,message:"通用节点-用时".concat(this.endTime.getTime()-this.startTime.getTime(),"ms")})),this.startTime=null,this.endTime=null)},config:function(e,t){return{initialContentAlignment:t.Spot.Center,"toolManager.mouseWheelBehavior":t.ToolManager.WheelZoom,initialAutoScale:t.Diagram.UniformToFill}},layout:function(e,t){return e(t.ForceDirectedLayout,{setsPortSpots:!1})},nodeTemplateMap:function(e,t){var n=new t.Map;return n.add("",Object(o.u)(e,t,{props:{shape:"Circle",size:60}})),n},linkTemplate:function(e,t){return Object(o.t)(e,t,{props:{arrows:"to",fromPortId:"tFigure",toPortId:"tFigure"}})},diagramReady:function(e,t,n){e,i=new a(e,n),e.dataManager=i,i.setNodeConverter("nodeCv1",this.nodeConvert,this.nodeMerger),i.setLinkConverter("linkCv1",this.linkConvert),this.initialed=!0,console.time("layoutCompleted1"),this.loading=!0,this.startTime=new Date,this.getTestData().then(function(e){e.nodes.forEach(function(e){i.addNode(e,"nodeCv1")}),e.links.forEach(function(e){i.addLink(e,"linkCv1")})})},getTestData:function(){var e=this,t={nodes:function(){for(var t=[],n=0;n<e.nodeCount;n++)t.push({nodeCode:String(n+1),type:(n%4+1).toString().padStart(2,"0"),level:(n%3+1).toString().padStart(2,"0"),title:"title"+n});return t}(),links:function(){for(var t=[],n=0;n<e.nodeCount;n++)0!==n&&t.push({from:String(Math.floor(n/2)+1),to:String(n+1),type:(n%2+1).toString().padStart(2,"0"),title:"label"+n});return t}()};return new Promise(function(e,n){e(t)})},nodeMerger:function(e,t,n,i){var o=JSON.parse(JSON.stringify(e));return o.label.text.push({text:t._originData.title+":"+t._originData.level}),o},nodeConvert:function(e){var t={key:e.nodeCode,label:{text:[{text:e.title+":"+e.level}],margin:[5,10,5,10]}},n={hover:"#f0f5ff"};switch(e.level){case"01":n.normal="#389e0d";break;case"02":n.normal="#722ed1";break;case"03":n.normal="#c41d7f"}if(t.strokeColor=n,t.strokeWidth=8,"01"===e.type)t.shape="clipImage",t.image="/xdh-go/img/node/circleimage/8.png";else{t.shape="icon";var i={font:'24px "iconfont"'};switch(e.type){case"02":i.text="";break;case"03":i.text="";break;case"04":i.text=""}t.icon=i}return t.labelBackground={normal:"#fff566",hover:"#ffffb8"},t},linkConvert:function(e){var t={from:e.from,to:e.to,label:e.title},n="";switch(e.type){case"01":n="#d48806";break;case"02":n="#389e0d"}return t.lineColor=n,t.lineWidth={normal:2,hover:4},t.labelColor="#3f6600",t._originData=e,t},resetDiagram:function(){var e=this;i.clear(),this.loading=!0,setTimeout(function(){console.time("layoutCompleted1"),e.startTime=new Date,e.getTestData().then(function(e){e.nodes.forEach(function(e){i.addNode(e,"nodeCv1")}),e.links.forEach(function(e){i.addLink(e,"linkCv1")})})},100)},clearDiagram:function(){i.clear()}},mounted:function(){}},l=n(16),s=Object(l.a)(r,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[n("el-input-number",{attrs:{min:1,max:1e3,label:"节点数量"},model:{value:e.nodeCount,callback:function(t){e.nodeCount=t},expression:"nodeCount"}}),e._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.resetDiagram}},[e._v("\n      重新加载\n    ")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.clearDiagram}},[e._v("\n      清空画布\n    ")])],1),e._v(" "),n("xdh-go",{ref:"diagram1",attrs:{nodes:e.nodes,links:e.links,"node-template-map":e.nodeTemplateMap,"link-template":e.linkTemplate,type:e.model,config:e.config,layout:e.layout,height:"650px",events:e.events},on:{"on-ready":e.diagramReady}})],1)},[],!1,null,null,null);t.default=s.exports}}]);