(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{141:function(t,e,n){"use strict";var r=n(147),i=n(142),o=n(144),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},142:function(t,e,n){var r=n(150),i=n(143),o=n(140);t.exports=function(t,e,n,a){var u=String(o(t)),l=u.length,s=void 0===n?" ":String(n),c=r(e);if(c<=l||""==s)return u;var d=c-l,f=i.call(s,Math.ceil(d/s.length));return f.length>d&&(f=f.slice(0,d)),a?f+u:u+f}},143:function(t,e,n){"use strict";var r=n(151),i=n(140);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},144:function(t,e,n){var r=n(148).navigator;t.exports=r&&r.userAgent||""},152:function(t,e,n){"use strict";n(153)("link",function(t){return function(e){return t(this,"a","href",e)}})},182:function(t,e,n){var r=n(167),i=n(183).onFreeze;n(188)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},183:function(t,e,n){var r=n(177)("meta"),i=n(167),o=n(172),a=n(168).f,u=0,l=Object.isExtensible||function(){return!0},s=!n(161)(function(){return l(Object.preventExtensions({}))}),c=function(t){a(t,r,{value:{i:"O"+ ++u,w:{}}})},d=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return s&&d.NEED&&l(t)&&!o(t,r)&&c(t),t}}},425:function(t,e,n){"use strict";n.r(e);n(182),n(149),n(141),n(146),n(152);var r,i,o=n(145),a=(o.u.switcher,o.u.binding,o.u.node),u=o.u.link,l=o.u.shape,s=o.o.DataManager,c={components:{XdhGo:o.a,XdhGoOverview:o.f},data:function(){var t=this;return{showDiagram:!0,currLayout:"LayeredDigraphLayout",diagram:null,model:"GraphLinksModel",nodes:[],links:[],msg:null,nodeCount:200,initialed:!1,duplicateData:{level:"02",nodeCode:"7",title:"title6",type:"03"},startTime:null,endTime:null,loading:!1,events:{LayoutCompleted:function(e){console.timeEnd("layoutCompleted2"),t.endTime=new Date,t.logtime(),t.loading=!1}}}},methods:{logtime:function(){this.initialed&&(this.startTime&&this.endTime&&(this.msg&&this.msg.close(),this.msg=this.$message({type:"warning",duration:2e4,showClose:!0,message:"简化节点-用时".concat(this.endTime.getTime()-this.startTime.getTime(),"ms")})),this.startTime=null,this.endTime=null)},config:function(t,e){return{initialContentAlignment:e.Spot.Center,"toolManager.mouseWheelBehavior":e.ToolManager.WheelZoom,initialAutoScale:e.Diagram.UniformToFill}},layout:function(t,e){return t(e.LayeredDigraphLayout,{direction:90})},nodeTemplate:function(t,e){return a(t,e,{parts:[l(t,e,{props:{figure:"Circle",fill:"red",stroke:"#000"}})]})},linkTemplate:function(t,e){return u(t,e,{parts:[l(t,e,{props:{stroke:"#000"}})]})},diagramReady:function(t,e,n){i=t,(r=new s(t,n)).setNodeConverter("nodeCv1",this.nodeConvert,this.nodeMerger),r.setLinkConverter("linkCv1",this.linkConvert),this.initialed=!0,console.time("layoutCompleted2"),this.startTime=new Date,i.skipsUndoManager=!0,this.getTestData().then(function(t){t.nodes.forEach(function(t){r.addNode(t,"nodeCv1")}),t.links.forEach(function(t){r.addLink(t,"linkCv1")}),i.layoutDiagram()})},getTestData:function(){var t=this,e={nodes:function(){for(var e=[],n=0;n<t.nodeCount;n++)e.push({nodeCode:String(n+1),type:(n%4+1).toString().padStart(2,"0"),level:(n%3+1).toString().padStart(2,"0"),title:"title"+n});return e}(),links:function(){for(var e=[],n=0;n<t.nodeCount;n++)0!==n&&e.push({from:String(Math.floor(n/2)+1),to:String(n+1),type:(n%2+1).toString().padStart(2,"0"),title:"label"+n});return e}()};return new Promise(function(t,n){t(e)})},nodeMerger:function(t,e,n,r){var i=JSON.parse(JSON.stringify(t));return i.label.text.push({text:e._originData.title+":"+e._originData.level}),i},nodeConvert:function(t){var e={key:t.nodeCode,label:{text:[{text:t.title+":"+t.level}],margin:[5,10,5,10]}},n={hover:"#f0f5ff"};switch(t.level){case"01":n.normal="#389e0d";break;case"02":n.normal="#722ed1";break;case"03":n.normal="#c41d7f"}if(e.strokeColor=n,e.strokeWidth=8,"01"===t.type)e.shape="clipImage",e.image="/xdh-go/img/node/circleimage/8.png";else{e.shape="icon";var r={font:'24px "iconfont"'};switch(t.type){case"02":r.text="";break;case"03":r.text="";break;case"04":r.text=""}e.icon=r}return e.labelBackground={normal:"#fff566",hover:"#ffffb8"},e},linkConvert:function(t){var e={from:t.from,to:t.to,label:t.title},n="";switch(t.type){case"01":n="#d48806";break;case"02":n="#389e0d"}return e.lineColor=n,e.lineWidth={normal:2,hover:4},e.labelColor="#3f6600",e._originData=t,e},resetDiagram:function(){var t=this;r.clear(),setTimeout(function(){console.time("layoutCompleted2"),t.startTime=new Date;var e=[],n=[];t.getTestData().then(function(r){r.nodes.forEach(function(n){e.push(t.nodeConvert(n))}),i.model.nodeDataArray=Object.freeze(e),r.links.forEach(function(e){n.push(t.linkConvert(e))}),i.model.linkDataArray=Object.freeze(n)})},100)},setLayout:function(t){this.currLayout=t;var e=this.$refs.diagram.go,n=e.GraphObject.make,r={};"LayeredDigraphLayout"===t?r.direction=90:"TreeLayout"===t&&(r.angle=90),this.startTime=new Date,i.layout=n(e[t],r)},clearDiagram:function(){r.clear()}},mounted:function(){}},d=n(16),f=Object(d.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[n("el-input-number",{attrs:{min:1,max:1e3,label:"节点数量"},model:{value:t.nodeCount,callback:function(e){t.nodeCount=e},expression:"nodeCount"}}),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.showDiagram=!0}}},[t._v("\n      显示\n    ")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.resetDiagram}},[t._v("\n      重新加载\n    ")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.clearDiagram}},[t._v("\n      清空画布\n    ")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"ForceDirectedLayout"===t.currLayout?"primary":"default"},on:{click:function(e){return t.setLayout("ForceDirectedLayout")}}},[t._v("\n      ForceDirectedLayout\n    ")]),t._v(" "),n("el-button",{attrs:{type:"GridLayout"===t.currLayout?"primary":"default",size:"mini"},on:{click:function(e){return t.setLayout("GridLayout")}}},[t._v("\n      GridLayout\n    ")]),t._v(" "),n("el-button",{attrs:{type:"LayeredDigraphLayout"===t.currLayout?"primary":"default",size:"mini"},on:{click:function(e){return t.setLayout("LayeredDigraphLayout")}}},[t._v("\n      LayeredDigraphLayout\n    ")]),t._v(" "),n("el-button",{attrs:{type:"TreeLayout"===t.currLayout?"primary":"default",size:"mini"},on:{click:function(e){return t.setLayout("TreeLayout")}}},[t._v("\n      TreeLayout\n    ")]),t._v(" "),n("el-button",{attrs:{type:"CircularLayout"===t.currLayout?"primary":"default",size:"mini"},on:{click:function(e){return t.setLayout("CircularLayout")}}},[t._v("\n      CircularLayout\n    ")])],1),t._v(" "),t.showDiagram?n("xdh-go",{ref:"diagram",attrs:{nodes:t.nodes,links:t.links,"node-template":t.nodeTemplate,"link-template":t.linkTemplate,type:t.model,config:t.config,layout:t.layout,height:"650px",events:t.events},on:{"on-ready":t.diagramReady}}):t._e()],1)},[],!1,null,null,null);e.default=f.exports}}]);