(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{141:function(t,n,e){"use strict";var i=e(147),r=e(142),a=e(144),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);i(i.P+i.F*o,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},142:function(t,n,e){var i=e(150),r=e(143),a=e(140);t.exports=function(t,n,e,o){var l=String(a(t)),c=l.length,d=void 0===e?" ":String(e),s=i(n);if(s<=c||""==d)return l;var u=s-c,p=r.call(d,Math.ceil(u/d.length));return p.length>u&&(p=p.slice(0,u)),o?p+l:l+p}},143:function(t,n,e){"use strict";var i=e(151),r=e(140);t.exports=function(t){var n=String(r(this)),e="",a=i(t);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(n+=n))1&a&&(e+=n);return e}},144:function(t,n,e){var i=e(148).navigator;t.exports=i&&i.userAgent||""},408:function(t,n,e){"use strict";e.r(n);e(146),e(158),e(149),e(141);var i,r=e(145),a=(r.u.switcher,r.u.binding,r.o.DataManager);function o(){var t={nodes:function(){for(var t=[],n=0;n<10;n++)t.push({nodeCode:String(n+1),type:(n%4+1).toString().padStart(2,"0"),level:(n%3+1).toString().padStart(2,"0"),title:"title"+n});return t}(),links:function(){for(var t=[],n="1,2|1,3|2,4|2,5|3,6|3,7|4,8|4,9|4,10|6,10".split("|"),e=0;e<10;e++){var i=n[e].split(",");t.push({from:i[0],to:i[1],type:(e%2+1).toString().padStart(2,"0"),title:"line"+e})}return t}()};return new Promise(function(n,e){n(t)})}var l={components:{XdhGo:r.a},data:function(){return{diagram:null,model:"GraphLinksModel",nodes:[],links:[],duplicateData:{from:"4",to:"9",type:"01",title:"line7"}}},methods:{config:function(t,n){return{initialContentAlignment:n.Spot.Center}},layout:function(t,n){return t(n.LayeredDigraphLayout,{direction:90,setsPortSpots:!1,columnSpacing:30,layerSpacing:20})},nodeTemplateMap:function(t,n){var e=new n.Map;return e.add("",Object(r.t)(t,n,{props:{shape:"Circle",size:60}})),e},linkTemplate:function(t,n){return Object(r.s)(t,n,{props:{arrows:"to",fromPortId:"tNode",toPortId:"tNode"}})},diagramReady:function(t,n,e){this.diagram=t,i=new a(t,e),t.dataManager=i,i.setNodeConverter("nodeCv1",this.nodeConvert),i.setLinkConverter("linkCv1",this.linkConvert,this.linkMerger),o().then(function(t){t.nodes.forEach(function(t){i.addNode(t,"nodeCv1")}),t.links.forEach(function(t){i.addLink(t,"linkCv1")})})},linkMerger:function(t,n,e,i){var r,a=JSON.parse(JSON.stringify(t));switch(a.label.text.push({text:n._originData.title+":"+n._originData.type}),Math.min(parseInt(t._originData.type),parseInt(n._originData.type))){case 1:r="#d48806";break;case 2:r="#389e0d"}return a.lineColor=r,a},nodeConvert:function(t){var n={key:t.nodeCode,label:""};if(n.strokeColor={normal:"#b7eb8f",hover:"#b7eb8f"},n.strokeWidth=8,"01"===t.type)n.shape="clipImage",n.image="/xdh-go/img/node/circleimage/8.png";else{n.shape="icon";var e={font:'24px "iconfont"'};switch(t.type){case"02":e.text="";break;case"03":e.text="";break;case"04":e.text=""}n.icon=e}return n.labelBackground={normal:"#fff566",hover:"#ffffb8"},n},linkConvert:function(t){var n={from:t.from,to:t.to,label:{text:[{text:t.title+":"+t.type}],font:'20px "Microsoft Yahei"',placement:"middle"}},e="";switch(t.type){case"01":e="#d48806";break;case"02":e="#389e0d"}return n.lineColor=e,n.lineWidth={normal:2,hover:4},n.labelColor="#3f6600",n._originData=t,n},resetDiagram:function(){i.clear(),o().then(function(t){t.nodes.forEach(function(t){i.addNode(t,"nodeCv1")}),t.links.forEach(function(t){i.addLink(t,"linkCv1")})})},addDupLink:function(t){i.addLink(this.duplicateData,"linkCv1",t),console.log(this.diagram.model.linkDataArray)}},mounted:function(){}},c=e(16),d=Object(c.a)(l,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.resetDiagram}},[t._v("\n      重置数据\n    ")]),t._v(" "),e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return t.addDupLink({distinct:!1})}}},[t._v("\n      添加重复连线line6(不去重)\n    ")]),t._v(" "),e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return t.addDupLink({duplicate:"replace"})}}},[t._v("\n      添加重复连线line6(replace)\n    ")]),t._v(" "),e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return t.addDupLink({duplicate:"remain"})}}},[t._v("\n      添加重复连线line6(remain)\n    ")]),t._v(" "),e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return t.addDupLink({duplicate:"merge"})}}},[t._v("\n      添加重复连线line6(merge))\n    ")])],1),t._v(" "),e("xdh-go",{ref:"diagram",attrs:{nodes:t.nodes,links:t.links,"node-template-map":t.nodeTemplateMap,"link-template":t.linkTemplate,type:t.model,config:t.config,layout:t.layout,height:"700px"},on:{"on-ready":t.diagramReady}})],1)},[],!1,null,null,null);n.default=d.exports}}]);